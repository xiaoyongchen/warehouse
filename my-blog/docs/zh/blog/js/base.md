# js基础

## 原码、反码、补码

* 10进制到2进制以8位为例

  | 10进制数 | 2进制原码 | 2进制反码 | 2进制补码 |
  | :----: | :----  | :----  | :----  |
  | 1 | 0000 0001| 0000 0001 | 0000 0001 |
  | -1 | 1000 0001| 1111 1110 | 1111 1111 |
  | -5 | 1000 0101| 1111 1010 | 1111 1011 |
  | -0 | 1000 0000 | 1111 1111 | 0000 0000 |
  | +0 | 0000 0000 | 0000 0000 | 0000 0000 |

:::tip
  [v8继承](https://pic1.zhimg.com/v2-ca22bf2de6c54c5ead6fa988222a59b7_r.jpg?source=1940ef5c)

  因为是8位来计算：[1111 1111, 0111 1111] 范围 [-127 ~ 127]

  * 原码
    - 正数的原码, 第一位为符号位,其余数值位为1 => 2^n
    - 负数的原码, 第一位为符号位,其余数值位为1 => 2^n
  * 反码
    - 正数的反码等于原码
    - 负数的反码, 相对于原码符号位不变,其余数值位取反
   * 补码
    - 正数的反码等于原码
    - 负数的原码, 符号位不变, 其余各位取反, 最后+1
  * 总结：在js中前三位为0都表示object对象。
    * 000：对象
    * 1：整数
    * 010：浮点数
    * 100：字符串
    * 110：布尔
  
    * null 对应机器码的 NULL 指针，一般是全零。既是对象，又不是对象，史称「薛定谔的对象」。
      null instanceof Object; // false

    * undefined: 用 - （−2^30）表示
      undefined instanceof Object; // false;

    * null instanceof null 会报错并且一直不会被修复 
:::

## ～按位取反运算符

任何数字x运算都是-(x + 1)
* ~1 = -2;
* ~2 = -3;
* ~-1 = -0;
* ~-0 = -1;
* ~+0 = -1;
* ~null = -1;
* ~undefined = -1;
* ~{} = -1;
* ~NaN = -1;
* ~Symbol = -1;
* ~(new Set()) = -1;
* ~(new Map()) = -1;
* ~(Symbol()); // 报错
* ~Symbol() // 报错；

  - 2进制以补码形式存内存中
    + ~-9 = 10
    + 2 = -3
  
 | 10进制数 | 2进制源码 | 补码 | 按位取反 | 转为原码 | 按位取反 | 末位加一 |
 | :----: | :---- | :---- | :---- | :---- | :---- | :---- |
 | 9 | 0 1001 | 0 1001 | 1 0110 | | 1 1001 | 1 1010 |
 | 2 | 0 0010 | 0 0010 | 1 1101 | | 1 0010 | 1 0011 |

